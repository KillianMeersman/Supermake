export GOCACHE = /tmp/.cache

.SHELL = sh -cex

dist: test
	mac:
		echo 'Building mac binary'
		GOOS=darwin GOARCH=amd64 go build -buildvcs=false -o bin/supermake_darwin_64

	linux:
		echo 'Building linux binaries'
		GOOS=linux GOARCH=amd64 go build -buildvcs=false -o bin/supermake_linux_64
		GOOS=linux GOARCH=386 go build -buildvcs=false -o bin/supermake_linux_32

	windows:
		echo 'Building windows binaries'
		GOOS=windows GOARCH=amd64 go build -buildvcs=false -o bin/supermake_windows_64.exe
		GOOS=windows GOARCH=386 go build -buildvcs=false -o bin/supermake_windows_32.exe
